---
title   : Network Address Translation
date    : 2023-06-12 15:11:58 +0900
updated : 2023-06-13 18:07:43 +0900
tags     : 
- 네트워크
---

## NAT이란?

IP 패킷의 TCP / UDP 포트 숫자와 소스 및 목적지의 IP 주소 등을 재기록하면서 라우터를 통해 네트워크 트래픽을 주고 받는 기술을 말한다.

사설 네트워크에 속한 여러 개의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위해 사용된다.    
IPv4의 주소 부족 문제를 해결하기 위한 방법으로써 고려되었다.    
인터넷이 연동되는 기기가 많아지면서 IP 주소가 전세계적으로 유일하게 할당 되는 것은 불가능해졌다.   

주로 사설 네트워크 주소를 사용하는 망에서 외부의 공인망과의 통신을 위해 네트워크 주소를 반환하는 것이다.   
즉, 내부 망에서는 사설 IP 주소를 사용하여 통신을 하고, 외부망과 통신 시에는 NAT 을 거쳐 공인 IP 주소로 자동 변환합니다.

### 장단점

#### 장점
1. 인터넷의 공인 IP 주소를 절약할 수 있다.
	- NAT을 사용하면 사설 IP 주소를 공유하면서 이를 공인 IP 주소와 상호 변환할 수 있도록 하여 공인 IP 주소를 다수가 함께 사용할 수 있게 한다.
2. 인터넷이란 공공망과 연결되는 사용자들의 고유한 사설망을 침입자들로부터 보호할 수 있다.
	- 인터넷과 사설망 사이에 방화벽을 설치하여 외부 공격으로부터 사용자의 통신망을 보호하는 기본 수단으로 활용할 수 있다.
	- 인터넷 망과 연결하는 장비인 라우터에 NAT을 설정하는 경우, 라우터는 자신에게 할당된 공인 IP 주소만 외부로 알려지게 하고, 내부에서는 사설 IP 주소만 사용하도록 하여 필요 할 때 이를 서로 변환시켜 준다. 따라서 외부 침입자가 공격하기 위해서는 사설망의 내부 사설 IP 주소를 알아야 하므로 공격이 불가능하다.

#### 단점
- end-to-end 추적이 어렵다. 여러 개의 NAT 라우터에 의해 multiple NAT가 적용되었을 경우, 경로 추적이 더욱 어렵다. 이는 해커가 대상 경로를 추적하기 어렵게 만들어서 좀 더 보안성 있는 연결을 할 수 있게 한다는 관점에서도 볼 수 있다.
- NAT 라우터를 거치는 모든 패킷을 스캔하므로 switching path delay가 커지게 된다.

### 참고
- https://jwprogramming.tistory.com/30
- https://5kyc1ad.tistory.com/254
